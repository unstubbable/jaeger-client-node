{"version":3,"sources":["../../test/util.js"],"names":["describe","it","assert","equal","Utils","removeLeadingZeros","results","encoding","mode","expectedTags","description","deepEqual","newBuffer","isNotNull","length","Buffer","expectedValue","newBufferFromHex","toString"],"mappings":";;AAaA;;AACA;;;;AACA;;;;;;AAEAA,SAAS,OAAT,EAAkB,YAAM;AACtBA,WAAS,oBAAT,EAA+B,YAAM;AACnCC,OAAG,oCAAH,EAAyC,YAAM;AAC7CC,mBAAOC,KAAP,CAAa,GAAb,EAAkBC,eAAMC,kBAAN,CAAyB,GAAzB,CAAlB;AACD,KAFD;;AAIAJ,OAAG,wCAAH,EAA6C,YAAM;AACjDC,mBAAOC,KAAP,CAAa,GAAb,EAAkBC,eAAMC,kBAAN,CAAyB,GAAzB,CAAlB;AACD,KAFD;;AAIAJ,OAAG,4BAAH,EAAiC,YAAM;AACrCC,mBAAOC,KAAP,CAAa,GAAb,EAAkBC,eAAMC,kBAAN,CAAyB,MAAzB,CAAlB;AACD,KAFD;;AAIAJ,OAAG,wCAAH,EAA6C,YAAM;AACjDC,mBAAOC,KAAP,CAAa,GAAb,EAAkBC,eAAMC,kBAAN,CAAyB,MAAzB,CAAlB;AACD,KAFD;AAGD,GAhBD;;AAkBAJ,KAAG,sEAAH,EAA2E,YAAM;AAC/E,QAAIK,UAAU,4BAAa,EAAEC,UAAU,CAAC,MAAD,EAAS,QAAT,CAAZ,EAAgCC,MAAM,CAAC,SAAD,EAAY,SAAZ,CAAtC,EAAb,CAAd;AACA,QAAIC,eAAe,CACjB,EAAEF,UAAU,MAAZ,EAAoBC,MAAM,SAA1B,EAAqCE,aAAa,4BAAlD,EADiB,EAEjB,EAAEH,UAAU,MAAZ,EAAoBC,MAAM,SAA1B,EAAqCE,aAAa,4BAAlD,EAFiB,EAGjB,EAAEH,UAAU,QAAZ,EAAsBC,MAAM,SAA5B,EAAuCE,aAAa,8BAApD,EAHiB,EAIjB,EAAEH,UAAU,QAAZ,EAAsBC,MAAM,SAA5B,EAAuCE,aAAa,8BAApD,EAJiB,CAAnB;AAMAR,iBAAOS,SAAP,CAAiBF,YAAjB,EAA+BH,OAA/B;AACD,GATD;;AAWAL,KAAG,gCAAH,EAAqC,YAAM;AACzC,QAAIK,UAAUF,eAAMQ,SAAN,CAAgB,CAAhB,CAAd;AACAV,iBAAOW,SAAP,CAAiBP,OAAjB;AACAJ,iBAAOC,KAAP,CAAaG,QAAQQ,MAArB,EAA6B,CAA7B;AACAZ,iBAAOS,SAAP,CAAiB,IAAII,MAAJ,CAAW,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,CAAX,CAAjB,EAAuDT,OAAvD;AACD,GALD;;AAOAL,KAAG,mCAAH,EAAwC,YAAM;AAC5C,QAAIe,gBAAgB,UAApB;AACA,QAAIV,UAAUF,eAAMa,gBAAN,CAAuBD,aAAvB,CAAd;AACAd,iBAAOW,SAAP,CAAiBP,OAAjB;AACAJ,iBAAOC,KAAP,CAAaa,aAAb,EAA4BV,QAAQY,QAAR,CAAiB,KAAjB,CAA5B;AACD,GALD;AAMD,CA3CD;AAhBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"util.js","sourcesContent":["// @flow\n// Copyright (c) 2016 Uber Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n// in compliance with the License. You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software distributed under the License\n// is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n// or implied. See the License for the specific language governing permissions and limitations under\n// the License.\n\nimport { assert } from 'chai';\nimport Utils from '../src/util.js';\nimport combinations from './lib/combinations.js';\n\ndescribe('utils', () => {\n  describe('removeLeadingZeros', () => {\n    it('should leave single 0 digit intact', () => {\n      assert.equal('0', Utils.removeLeadingZeros('0'));\n    });\n\n    it('should leave single non-0 digit intact', () => {\n      assert.equal('1', Utils.removeLeadingZeros('1'));\n    });\n\n    it('should strip leading zeros', () => {\n      assert.equal('1', Utils.removeLeadingZeros('0001'));\n    });\n\n    it('should convert all zeros to a single 0', () => {\n      assert.equal('0', Utils.removeLeadingZeros('0000'));\n    });\n  });\n\n  it('combinations should generate all combinations given valid parameters', () => {\n    let results = combinations({ encoding: ['json', 'thrift'], mode: ['channel', 'request'] });\n    let expectedTags = [\n      { encoding: 'json', mode: 'channel', description: 'encoding=json,mode=channel' },\n      { encoding: 'json', mode: 'request', description: 'encoding=json,mode=request' },\n      { encoding: 'thrift', mode: 'channel', description: 'encoding=thrift,mode=channel' },\n      { encoding: 'thrift', mode: 'request', description: 'encoding=thrift,mode=request' },\n    ];\n    assert.deepEqual(expectedTags, results);\n  });\n\n  it('should create new empty buffer', () => {\n    let results = Utils.newBuffer(8);\n    assert.isNotNull(results);\n    assert.equal(results.length, 8);\n    assert.deepEqual(new Buffer([0, 0, 0, 0, 0, 0, 0, 0]), results);\n  });\n\n  it('should create new buffer from hex', () => {\n    let expectedValue = 'deadbeef';\n    let results = Utils.newBufferFromHex(expectedValue);\n    assert.isNotNull(results);\n    assert.equal(expectedValue, results.toString('hex'));\n  });\n});\n"]}